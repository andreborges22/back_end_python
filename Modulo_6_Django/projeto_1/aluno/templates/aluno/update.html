{% extends 'base.html' %}
{% load static %}
{% block title %}Módulo Aluno - SISIFBA{{ block.super }}{% endblock %}
{% block content%}
<body>   
    <h1>Editar Aluno ({{aluno.id}} - {{aluno.nome}})</h1>
    <hr>
    <form action="{% url 'update' aluno.id %}" method="POST"class="form-control">
        {% csrf_token %}
        <label>Nome</label>
        <br>
        <input type="text" id="nome"   name="nome" value="{{aluno.nome}}"placeholder="Digite o novo nome" required="true">
        <br>
        <label>Email</label>
        <br>
        <input type="email" id="email" name="email" value="{{aluno.email}}"placeholder="Digite o novo email" required="true">
        <br>
        <label>Data de Nascimento</label>
        <br>
        <input type="date" id="nascimento"  name="nascimento" value="{{aluno.nascimento|date:'Y-m-d'}}" required="false">
        <br>
        <br>                
        <label>CEP</label>
        <br>
        <input type="text" id="cep" name="cep" placeholder="Informe um CEP sem ponto nem traço (ex. 41213000)" value="{{aluno.cep}}" required="true">
                                    
        <button type="button" onclick="buscarCep()" class="btn btn-success">
            Localizar bairro
        </button> 
        <br>
        <label>Logradouro</label>
        <br>
        <input type="text" id="logradouro" name="logradouro" value="{{aluno.logradouro}}" required>                
        <br>    
        <label>Número</label>
        <br>
        <input type="text" id="numero" name="numero" value="{{aluno.numero}}" required>                
        <br>    
        <label>Bairro</label>
        <br>
        <input type="text" id="bairro" name="bairro" value="{{aluno.bairro}}" required> 
        <br>    
        <label>cidade</label>
        <br>
        <input type="text" id="localidade" name="localidade" value="{{aluno.cidade}}" required>
        <br>
        <label>Estado</label>
        <br>
        <input type="text" id="estado" name="estado" value="{{aluno.estado}}" required>
        <br>
        <label>Curso</label>
        <br>                
        <select id = "curso" name="curso" required>

            <option value="">Selecione um curso</option>

            {% for curso in cursos %}
                <option value="{{ curso.id }}" {% if curso == aluno.curso %}selected{% endif %}>
                    {{ curso.nome }}
                </option>
            {% endfor %}

        </select>
        <hr>
        <button type="submit"class="btn btn-success">update</button>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="{% static 'js/funcoes.js' %}"></script>      
</body>
{% endblock %}